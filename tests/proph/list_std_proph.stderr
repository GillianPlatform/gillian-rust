warning: unused import: `specification`
 --> ../tests/proph/list_std_proph.rs:8:9
  |
8 |         specification,
  |         ^^^^^^^^^^^^^
  |
  = note: `#[warn(unused_imports)]` on by default

[TIMESTAMP WARN  lib_rtg::metadata] could not read metadata for crate `"std"`: Os { code: 2, kind: NotFound, message: "No such file or directory" }
[TIMESTAMP WARN  lib_rtg::metadata] could not read metadata for crate `"creusillian"`: Os { code: 2, kind: NotFound, message: "No such file or directory" }
building predctx DefId(0:50 ~ list_std_proph[4767]::{impl#0}::shallow_model) []
[TIMESTAMP WARN  lib_rtg::codegen::block] Not handling drop properly yet: _4
[TIMESTAMP WARN  lib_rtg::codegen::block] Not handling drop properly yet: _1
[TIMESTAMP WARN  lib_rtg::codegen::block] Not handling drop properly yet: _1
compiling DefId(0:52 ~ list_std_proph[4767]::extract_head___proof)
building predctx DefId(0:56 ~ list_std_proph[4767]::extract_head___proof::{closure#0}::{closure#0}) [T/#0]
None
building predctx DefId(0:52 ~ list_std_proph[4767]::extract_head___proof) [T/#0]
building predctx DefId(0:56 ~ list_std_proph[4767]::extract_head___proof::{closure#0}::{closure#0}) [T/#0]
building predctx DefId(0:56 ~ list_std_proph[4767]::extract_head___proof::{closure#0}::{closure#0}) [T/#0]
building predctx DefId(0:58 ~ list_std_proph[4767]::extract_head_spec_58d57223_542b_4648_85be_db2c95e081f3) [T/#0]
building predctx DefId(0:66 ~ list_std_proph[4767]::dll_seg) [T/#0]
building predctx DefId(0:70 ~ list_std_proph[4767]::dll_seg_r) [T/#0]
compiling DefId(0:74 ~ list_std_proph[4767]::dll_seg_r_appened_left)
compiling trusted lemma Signature { args: [Generic("pty_T0"), Program("x", std::option::Option<std::ptr::NonNull<Node<T/#0>>>), Program("next", std::option::Option<std::ptr::NonNull<Node<T/#0>>>), Program("tail_next", std::option::Option<std::ptr::NonNull<Node<T/#0>>>), Program("tail", std::option::Option<std::ptr::NonNull<Node<T/#0>>>)], contract: None, temp_gen: TempGenerator { cur_lvar: 6 } }
thread 'rustc' panicked at lib_rust_to_gil/src/logic/lemma.rs:114:18:
Expected lemma to have contract
stack backtrace:
   0: _rust_begin_unwind
   1: core::panicking::panic_fmt
   2: core::panicking::panic_display
   3: core::option::expect_failed
   4: core::option::Option<T>::expect
             at /rustc/8f9080db423ca0fb6bef0686ce9a93940cdf1f13/library/core/src/option.rs:895:21
   5: lib_rtg::logic::lemma::LemmaCtx::compile
             at /Users/xavier/Code/rust-to-gil/lib_rust_to_gil/src/logic/lemma.rs:112:22
   6: lib_rtg::logic::compile_logic
             at /Users/xavier/Code/rust-to-gil/lib_rust_to_gil/src/logic/mod.rs:41:9
   7: lib_rtg::prog_context::ProgCtx::compile_logic
             at /Users/xavier/Code/rust-to-gil/lib_rust_to_gil/src/prog_context.rs:38:27
   8: lib_rtg::prog_context::ProgCtx::final_prog
             at /Users/xavier/Code/rust-to-gil/lib_rust_to_gil/src/prog_context.rs:102:21
   9: lib_rtg::prog_context::ProgCtx::compile_prog
             at /Users/xavier/Code/rust-to-gil/lib_rust_to_gil/src/prog_context.rs:156:24
  10: <lib_rtg::callbacks::ToGil as rustc_driver_impl::Callbacks>::after_expansion::{{closure}}
             at /Users/xavier/Code/rust-to-gil/lib_rust_to_gil/src/callbacks.rs:79:36
  11: rustc_middle::ty::context::GlobalCtxt::enter::{{closure}}
             at /rustc/8f9080db423ca0fb6bef0686ce9a93940cdf1f13/compiler/rustc_middle/src/ty/context.rs:771:37
  12: rustc_middle::ty::context::tls::enter_context::{{closure}}
             at /rustc/8f9080db423ca0fb6bef0686ce9a93940cdf1f13/compiler/rustc_middle/src/ty/context/tls.rs:82:9
  13: std::thread::local::LocalKey<T>::try_with
             at /rustc/8f9080db423ca0fb6bef0686ce9a93940cdf1f13/library/std/src/thread/local.rs:286:12
  14: std::thread::local::LocalKey<T>::with
             at /rustc/8f9080db423ca0fb6bef0686ce9a93940cdf1f13/library/std/src/thread/local.rs:262:9
  15: rustc_middle::ty::context::tls::enter_context
             at /rustc/8f9080db423ca0fb6bef0686ce9a93940cdf1f13/compiler/rustc_middle/src/ty/context/tls.rs:79:9
  16: rustc_middle::ty::context::GlobalCtxt::enter
             at /rustc/8f9080db423ca0fb6bef0686ce9a93940cdf1f13/compiler/rustc_middle/src/ty/context.rs:771:9
  17: rustc_interface::queries::QueryResult<&rustc_middle::ty::context::GlobalCtxt>::enter
             at /rustc/8f9080db423ca0fb6bef0686ce9a93940cdf1f13/compiler/rustc_interface/src/queries.rs:70:9
  18: <lib_rtg::callbacks::ToGil as rustc_driver_impl::Callbacks>::after_expansion
             at /Users/xavier/Code/rust-to-gil/lib_rust_to_gil/src/callbacks.rs:77:9
  19: <rustc_interface::interface::Compiler>::enter::<rustc_driver_impl::run_compiler::{closure#0}::{closure#1}, core::result::Result<core::option::Option<rustc_interface::queries::Linker>, rustc_span::ErrorGuaranteed>>
  20: <scoped_tls::ScopedKey<rustc_span::SessionGlobals>>::set::<rustc_interface::util::run_in_thread_with_globals<rustc_interface::util::run_in_thread_pool_with_globals<rustc_interface::interface::run_compiler<core::result::Result<(), rustc_span::ErrorGuaranteed>, rustc_driver_impl::run_compiler::{closure#0}>::{closure#1}, core::result::Result<(), rustc_span::ErrorGuaranteed>>::{closure#0}, core::result::Result<(), rustc_span::ErrorGuaranteed>>::{closure#0}::{closure#0}::{closure#0}, core::result::Result<(), rustc_span::ErrorGuaranteed>>
  21: rustc_span::create_session_globals_then::<core::result::Result<(), rustc_span::ErrorGuaranteed>, rustc_interface::util::run_in_thread_with_globals<rustc_interface::util::run_in_thread_pool_with_globals<rustc_interface::interface::run_compiler<core::result::Result<(), rustc_span::ErrorGuaranteed>, rustc_driver_impl::run_compiler::{closure#0}>::{closure#1}, core::result::Result<(), rustc_span::ErrorGuaranteed>>::{closure#0}, core::result::Result<(), rustc_span::ErrorGuaranteed>>::{closure#0}::{closure#0}::{closure#0}>
note: Some details are omitted, run with `RUST_BACKTRACE=full` for a verbose backtrace.

error: the compiler unexpectedly panicked. this is a bug.

note: we would appreciate a bug report: https://github.com/GillianPlatform/rust-to-gil

note: please make sure that you have updated to the latest nightly

note: please attach the file at `/Users/xavier/Code/rust-to-gil/rust_to_gil/rustc-ice-2024-07-12T13_29_04-13470.txt` to your bug report

note: compiler flags: -Z crate-attr=feature(register_tool) -Z crate-attr=register_tool(gillian) -Z crate-attr=feature(rustc_attrs) -Z crate-attr=allow(internal_features) -Z crate-attr=feature(stmt_expr_attributes) --crate-type lib

query stack during panic:
end of query stack
warning: 1 warning emitted

